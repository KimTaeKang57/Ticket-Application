# Ticket-Application
오브젝트 : 티켓 판매 애플리케이션

## 로버트 마틴 : 소프트웨어 모듈이 가져야 하는 세가지 목적
1. 모든 모듈은 제대로 실행돼야 함
2. 변경이 용이해야 함
3. 이해하기 쉬워야 함

## V1
<img width="619" alt="스크린샷 2022-12-05 오후 10 19 14" src="https://user-images.githubusercontent.com/83891837/205646959-fbb123b4-bb01-40e6-8c6c-55500842b35b.png">
V1는 제대로 동작해야 한다는 제약은 만족시킨다. 하지만 불행하게도 다른 목적은 만족시키지 못한다.   

Theater 클래스의 enter 메서드가 수행하는 일을 말로 풀어보자.

~~~
소극장은 관람객의 가방을 열어 초대장 여부를 확인한다. 초대장이 있다면 판매원은 매표소에  
보관돼있는 티켓을 관람객의 가방 안으로 옮긴다. 가방 안에 초대장이 들어 있지 않다면 관람객의 
가방에서 티켓 금액만큼의 현금을 꺼내 매표소에 적립하고 티켓을 관람객의 가방으로 옮긴다.
~~~

여기서 문제는 관람객과 판매원이 소극장의 통제를 받는 수동적인 존재라는 점이다.

관람객의 입장에서, 소극장이라는 제3자가 초대장을 확인하려고 가방을 마구 뒤지고 돈을 꺼내간다.
판매원의 입장에서, 소극장이 허락없이 매표소의 티켓과 현금에 접근한다. 두손 놓고 바라보는 지경인 것이다.

이러한 문제는, 상식과 너무 다르게 동작하기 때문에 코드를 읽는 사람이 이해하기 어렵게 만든다.

또한, 이 코드는 변경이 매우 어렵다. 예를들어 관람객이 가방이 없다면? 판매원이 밖에 있다면?
현금 결제가 아닌 카드 결제라면?? 이런 가정이 생기는 순간 모든 코드가 흔들리게 된다.
이것은 객체 사이의 **의존성**과 관련된 문제다. 객체 사이의 의존성이 과하면 **결합도**가 높다고 한다.
두 객체 사이의 결합도가 높으면 함께 변경될 가능성도 높아져 변경하기 어려워진다. 따라서 설계를
객체 사이의 결합도를 낮춰 변경이 용이하게 설계해야만 한다.